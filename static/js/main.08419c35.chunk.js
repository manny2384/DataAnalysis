(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(2),c=n.n(l),r=(n(12),n(3)),s=n(4),i=n(6),u=n(5),m="https://species-sf5lnbi2xa-uc.a.run.app";function h(e){var t=e.my_header.map((function(e,t){return o.a.createElement("th",{key:t},e)})),n=e.my_table.map((function(e,t){return o.a.createElement("tr",{key:t},e.map((function(e,t){return o.a.createElement("td",{key:t},e)})))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("thead",null,o.a.createElement("tr",null,t)),o.a.createElement("tbody",null,n))}var _=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={column_list:[],my_table:[],sub_table:null,conservation_status_list:[],category_list:[],show_table:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json"}};fetch(m+"/get_column_names",t).then((function(e){return e.json()})).then((function(n){return e.setState((function(e){return{column_list:n[0],category_list:n[1],conservation_status_list:n[2]}})),fetch(m+"/",t)})).then((function(e){return e.json()})).then((function(t){e.setState((function(){return{my_table:Array.from(JSON.parse(t))}}))})).catch((function(e){console.log(" Encountered error requesting columns")}))}},{key:"req_sublist",value:function(){var e=this,t=""!==document.getElementById("category_val").value?document.getElementById("category_val").value:"null",n=""!==document.getElementById("conservation_val").value?document.getElementById("conservation_val").value:"null";if("null"!==t||"null"!==n){var a={method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":""}};fetch("".concat(m,"/sub_table/").concat(t,"/").concat(n)).then((function(e){return console.log("sub list response ",e),e.json()})).then((function(t){return console.log("sub list response ",t),e.setState((function(){return{sub_table:Array.from(JSON.parse(t)),show_table:!1}})),fetch(m+"/plot",a)})).then((function(e){return console.log("finished fetching image data ",e),e.blob()})).then((function(e){document.getElementById("curr_img").src=m+"/plot"})).catch((function(e){console.log("error retrieving sublist ")}))}else console.log(" Empty parameters ")}},{key:"show_entire_table",value:function(){this.setState((function(){return{show_table:!0}})),document.getElementById("curr_img").src=m+"/image"}},{key:"render",value:function(){var e,t=this.state.category_list.map((function(e,t){return o.a.createElement("option",{key:t},e)})),n=this.state.conservation_status_list.map((function(e,t){return o.a.createElement("option",{key:t},e)}));return e=!0===this.state.show_table?this.state.my_table:this.state.sub_table,o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"table_section"},o.a.createElement("table",{className:"my_table"},o.a.createElement(h,{className:"table_content",my_table:e,my_header:this.state.column_list}))),o.a.createElement("section",{className:"selection_menu"},o.a.createElement("select",{id:"category_val",className:"selection"},o.a.createElement("option",{value:""},"Select Category"),t),o.a.createElement("select",{id:"conservation_val",className:"selection"},o.a.createElement("option",{value:""},"Select Conservation"),n),o.a.createElement("button",{className:"selection",onClick:this.req_sublist.bind(this)}," Set Parameters "),o.a.createElement("button",{className:"selection",onClick:this.show_entire_table.bind(this)}," Show All ")),o.a.createElement("section",{className:"image_section",id:"image_section"},o.a.createElement("img",{id:"curr_img",src:m+"/image",alt:"initial image"})))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.08419c35.chunk.js.map